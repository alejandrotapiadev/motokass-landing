---
import { Analytics } from "@vercel/analytics/react";
---

<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pr√≥xima apertura</title>

    <!-- Fuente -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />

    <style>
      :root {
        --bg: #050912;
        --card: rgba(255, 255, 255, 0.06);
        --stroke: rgba(255, 255, 255, 0.12);
        --text: rgba(255, 255, 255, 0.92);
        --muted: rgba(255, 255, 255, 0.7);
        --muted2: rgba(255, 255, 255, 0.55);
        --blue: #3b82f6;
        --blue2: #2563eb;
        --shadow: 0 30px 80px rgba(0, 0, 0, 0.55);
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto,
          sans-serif;
        min-height: 100vh;
        background: var(--bg);
        color: var(--text);
        display: grid;
        place-items: center;
        padding: 28px 18px;
        overflow-x: hidden;
      }

      /* Fondo premium */
      .bg {
        position: fixed;
        inset: 0;
        z-index: -2;
        background: radial-gradient(
            1200px 600px at 50% 35%,
            rgba(59, 130, 246, 0.18),
            transparent 60%
          ),
          radial-gradient(
            900px 500px at 15% 80%,
            rgba(99, 102, 241, 0.12),
            transparent 55%
          ),
          radial-gradient(
            900px 500px at 85% 80%,
            rgba(37, 99, 235, 0.12),
            transparent 55%
          ),
          linear-gradient(180deg, #050912, #040711);
      }

      /* Ruido sutil */
      .noise {
        position: fixed;
        inset: 0;
        z-index: -1;
        opacity: 0.08;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='220'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.75' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='220' height='220' filter='url(%23n)' opacity='.35'/%3E%3C/svg%3E");
        pointer-events: none;
      }

      /* Contenedor */
      .wrap {
        width: 100%;
        max-width: 920px;
        display: grid;
        gap: 16px;
        place-items: center;
      }

      /* Marca arriba */
      .brand {
        display: flex;
        align-items: center;
        gap: 10px;
        opacity: 0.9;
        user-select: none;
      }

      .logo {
        width: 38px;
        height: 38px;
        border-radius: 14px;
        background: radial-gradient(
            circle at 30% 30%,
            rgba(255, 255, 255, 0.35),
            transparent 45%
          ),
          linear-gradient(135deg, rgba(59, 130, 246, 1), rgba(37, 99, 235, 1));
        box-shadow: 0 18px 40px rgba(37, 99, 235, 0.22);
      }

      .brand span {
        font-weight: 700;
        letter-spacing: 0.2px;
      }

      /* Tarjeta */
      .card {
        width: 100%;
        background: var(--card);
        border: 1px solid var(--stroke);
        border-radius: 28px;
        box-shadow: var(--shadow);
        padding: 34px 28px;
        backdrop-filter: blur(14px);
        -webkit-backdrop-filter: blur(14px);
        position: relative;
        overflow: hidden;
      }

      /* Glow dentro */
      .card::before {
        content: "";
        position: absolute;
        inset: -120px -120px auto -120px;
        height: 280px;
        background: radial-gradient(
          circle at 30% 30%,
          rgba(59, 130, 246, 0.25),
          transparent 60%
        );
        filter: blur(18px);
      }

      .content {
        position: relative;
        display: grid;
        gap: 18px;
        text-align: center;
      }

      h1 {
        margin: 0;
        font-size: clamp(2rem, 4vw, 3.1rem);
        letter-spacing: -0.03em;
        line-height: 1.05;
      }

      h1 .accent {
        background: linear-gradient(90deg, #60a5fa, #2563eb);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
      }

      p {
        margin: 0 auto;
        max-width: 60ch;
        color: var(--muted);
        font-size: clamp(1rem, 1.4vw, 1.08rem);
        line-height: 1.6;
      }

      /* Contador */
      .countdown {
        margin-top: 8px;
        display: grid;
        grid-template-columns: repeat(4, minmax(0, 1fr));
        gap: 14px;
        width: 100%;
        max-width: 560px;
        margin-inline: auto;
      }

      .box {
        border-radius: 18px;
        background: rgba(0, 0, 0, 0.25);
        border: 1px solid rgba(255, 255, 255, 0.08);
        padding: 16px 14px;
        box-shadow: 0 18px 40px rgba(0, 0, 0, 0.28);
        position: relative;
        overflow: hidden;
      }

      .box::after {
        content: "";
        position: absolute;
        inset: 0;
        background: radial-gradient(
          circle at 30% 20%,
          rgba(255, 255, 255, 0.08),
          transparent 60%
        );
        pointer-events: none;
      }

      .num {
        font-size: clamp(1.7rem, 3vw, 2.2rem);
        font-weight: 800;
        letter-spacing: -0.02em;
        line-height: 1.1;
        display: inline-block;
        transform-origin: center;
      }

      .label {
        margin-top: 8px;
        font-size: 0.78rem;
        letter-spacing: 0.12em;
        text-transform: uppercase;
        color: var(--muted2);
        font-weight: 600;
      }

      /* Animaci√≥n cambio de n√∫mero */
      .pop {
        animation: pop 240ms ease-out;
      }

      @keyframes pop {
        0% {
          transform: translateY(2px) scale(0.98);
          opacity: 0.7;
        }
        100% {
          transform: translateY(0) scale(1);
          opacity: 1;
        }
      }

      /* Form */
      .form {
        margin-top: 12px;
        display: grid;
        gap: 12px;
        place-items: center;
      }

      .row {
        width: 100%;
        max-width: 520px;
        display: grid;
        grid-template-columns: 1fr auto;
        gap: 10px;
      }

      input {
        width: 100%;
        border-radius: 16px;
        padding: 14px 16px;
        border: 1px solid rgba(255, 255, 255, 0.12);
        background: rgba(0, 0, 0, 0.25);
        color: var(--text);
        outline: none;
        font-size: 1rem;
      }

      input::placeholder {
        color: rgba(255, 255, 255, 0.45);
      }

      input:focus {
        border-color: rgba(96, 165, 250, 0.45);
        box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.18);
      }

      button {
        border: none;
        cursor: pointer;
        border-radius: 16px;
        padding: 14px 18px;
        font-weight: 700;
        font-size: 1rem;
        color: white;
        background: linear-gradient(135deg, var(--blue), var(--blue2));
        box-shadow: 0 18px 45px rgba(37, 99, 235, 0.25);
        transition: transform 0.12s ease, filter 0.12s ease;
        white-space: nowrap;
      }

      button:hover {
        filter: brightness(1.08);
        transform: translateY(-1px);
      }

      button:active {
        transform: translateY(0px) scale(0.99);
      }

      .fineprint {
        font-size: 0.9rem;
        color: rgba(255, 255, 255, 0.55);
      }

      /* Responsive */
      @media (max-width: 560px) {
        .card {
          padding: 26px 18px;
          border-radius: 22px;
        }

        .countdown {
          grid-template-columns: repeat(2, minmax(0, 1fr));
          max-width: 420px;
        }

        .row {
          grid-template-columns: 1fr;
        }

        button {
          width: 100%;
        }
      }
    </style>
  </head>

  <body>
    <div class="bg"></div>
    <div class="noise"></div>

    <main class="wrap">
      <div class="brand">
        <div class="logo"></div>
        <span>MOTOKASS</span>
      </div>

      <section class="card">
        <div class="content">
          <h1>
            <span class="accent">¬°Pr√≥xima apertura!</span>
          </h1>

          <p>
            Estamos preparando algo incre√≠ble. Muy pronto podr√°s descubrirlo.
            D√©janos tu correo y te avisamos antes que a nadie.
          </p>

          <div class="countdown" aria-label="Cuenta regresiva">
            <div class="box">
              <div class="num" id="days">--</div>
              <div class="label">D√≠as</div>
            </div>

            <div class="box">
              <div class="num" id="hours">--</div>
              <div class="label">Horas</div>
            </div>

            <div class="box">
              <div class="num" id="mins">--</div>
              <div class="label">Min</div>
            </div>

            <div class="box">
              <div class="num" id="secs">--</div>
              <div class="label">Seg</div>
            </div>
          </div>

          <form class="form" id="notifyForm">
            <div class="row">
              <input
                type="email"
                id="email"
                placeholder="Tu correo (ej: nombre@gmail.com)"
                required
              />
              <button type="submit">Quiero enterarme primero</button>
            </div>

            <div class="fineprint" id="msg">
              Sin spam. Solo 1 correo cuando abramos üöÄ
            </div>
          </form>
        </div>
      </section>
    </main>

    <script>
      // üëâ Cambia aqu√≠ la fecha de apertura (a√±o, mes-1, d√≠a, hora, min, seg)
      const launchDate = new Date(2026, 2, 1, 12, 0, 0); // 1 Marzo 2026 12:00

      const els = {
        days: document.getElementById("days"),
        hours: document.getElementById("hours"),
        mins: document.getElementById("mins"),
        secs: document.getElementById("secs"),
      };

      const last = { days: null, hours: null, mins: null, secs: null };

      function pad(n : any) {
        return String(n).padStart(2, "0");
      }

      function setVal(key: keyof typeof els, val:any) {
        const el = els[key];
        if (el && last[key] !== val) {
          el.textContent = val;
          el.classList.remove("pop");
          void el.offsetWidth; // reinicia animaci√≥n
          el.classList.add("pop");
          last[key] = val;
        }
      }

      function tick() {
        const now = new Date();
        const diff = launchDate.getTime() - now.getTime();

        if (diff <= 0) {
          setVal("days", "00");
          setVal("hours", "00");
          setVal("mins", "00");
          setVal("secs", "00");
          return;
        }

        const totalSeconds = Math.floor(diff / 1000);

        const days = Math.floor(totalSeconds / (60 * 60 * 24));
        const hours = Math.floor((totalSeconds / (60 * 60)) % 24);
        const mins = Math.floor((totalSeconds / 60) % 60);
        const secs = Math.floor(totalSeconds % 60);

        setVal("days", pad(days));
        setVal("hours", pad(hours));
        setVal("mins", pad(mins));
        setVal("secs", pad(secs));
      }

      tick();
      setInterval(tick, 1000);

      // Form (demo)
      const form = document.getElementById("notifyForm") as HTMLFormElement | null;
      const msg = document.getElementById("msg");

      if (form && msg) {
        form.addEventListener("submit", async (e) => {
            e.preventDefault();
            const emailInput = document.getElementById("email") as HTMLInputElement | null;
            if (!emailInput) return;
            const email = emailInput.value.trim();

            try {
              const res = await fetch("/api/subscribe", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ email }),
              });

              const data = await res.json();

              if (res.ok) {
                msg.textContent = `Perfecto. Te avisaremos a: ${email}`;
                form.reset();
              } else {
                msg.textContent = data.error || "Ha ocurrido un error";
              }
            } catch (err) {
              msg.textContent = "Ha ocurrido un error de red";
            }
          });
      }
    </script>
    <Analytics />
  </body>
</html>